<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link rel="stylesheet" type="text/css" href="statprofiler.css">

    <title>StatProfilerHTML.jl: /home/arashyazdiha/Dropbox/Arash/EUR/Workspace/CLSM/Julia Implementation/ProjectLN/ugraph/src/modules/./utils.jl</title>
  </head>
  <body>
<div class="report-header">
  <div class="backlink"><a href="index.html">Report index</a></div>
  <div class="report-title">StatProfilerHTML.jl report</div>
  <div class="generated-on">Generated on wo 04 apr 2018 12:37:42 CEST</div>
</div>

    <div id="body-content">
      <table>
        <caption>File source code</caption>
        <tr>
          <th>Line</td>
          <th>Exclusive</th>
          <th>Inclusive</th>
          <th>Code</th>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-1"></a>1</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">__precompile__()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-2"></a>2</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">module Utils
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-3"></a>3</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-4"></a>4</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">export EPSILON, Dyad, VectorList, MatrixList, Matrix2d, Matrix3d, Network
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-5"></a>5</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-6"></a>6</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">export Link, NonLink, MiniBatch, Map
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-7"></a>7</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">export digamma, digamma_, lgamma, lgamma_, logsumexp, softmax, sort_by_argmax!
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-8"></a>8</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-9"></a>9</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-10"></a>10</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">include(&quot;AbstractTuple.jl&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-11"></a>11</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">include(&quot;AbstractDyad.jl&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-12"></a>12</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">include(&quot;AbstractMMSB.jl&quot;)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-13"></a>13</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">import Base: ==, hash, isequal
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-14"></a>14</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">import Core: ===
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-15"></a>15</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-16"></a>16</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">const EPSILON = 1e-5
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-17"></a>17</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">VectorList{T} = Vector{Vector{T}}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-18"></a>18</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">MatrixList{T} = Vector{Matrix{T}}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-19"></a>19</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Matrix2d{T}   = Matrix{T}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-20"></a>20</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Matrix3d{T}   = Array{T,3}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-21"></a>21</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Network{T}    = SparseMatrixCSC{T,T}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-22"></a>22</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-23"></a>23</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">struct Dyad &lt;: AbstractDyad
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-24"></a>24</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"> src::Int64
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-25"></a>25</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"> dst::Int64
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-26"></a>26</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-27"></a>27</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">import Base: convert
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-28"></a>28</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">convert(::Type{Dyad}, x::Tuple) = Dyad(x[1], x[2])
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-29"></a>29</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">mutable struct Link &lt;: AbstractDyad
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-30"></a>30</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  src::Int64
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-31"></a>31</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  dst::Int64
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-32"></a>32</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  ϕ::Vector{Float64}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-33"></a>33</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-34"></a>34</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-35"></a>35</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">mutable struct NonLink &lt;: AbstractDyad
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-36"></a>36</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  src::Int64
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-37"></a>37</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  dst::Int64
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-38"></a>38</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  ϕout::Vector{Float64}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-39"></a>39</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  ϕin::Vector{Float64}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-40"></a>40</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  # ϕoutold::Vector{Float64}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-41"></a>41</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  # ϕinold::Vector{Float64}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-42"></a>42</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-42"></a>
              1 (0.0023%) samples spent in ==<br />
              1 (100.00%) (ex.),
              1 (100.00%) (incl.)
              when called from
              ht_keyindex
              <a href="dict-jl-69dc10398ca233bdae58-line.html#Ldict-jl-69dc10398ca233bdae58-line.html-329">line 329</a><br />
            </div>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-43"></a>43</td>
          <td>1 (0.0023%)</td>
          <td>1 (0.0023%)</td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-hash-43"></a>
              20 (0.05%) samples spent in hash<br />
              1 (100.00%) (ex.),
              20 (100.00%) (incl.)
              when called from
              hashindex
              <a href="dict-jl-69dc10398ca233bdae58-line.html#Ldict-jl-69dc10398ca233bdae58-line.html-210">line 210</a><br />
            </div>
            <span class="code">==(x::Dyad, y::Dyad) = (x.src == y.src &amp;&amp; x.dst === y.dst) || (x.src === y.dst &amp;&amp; x.dst === y.src)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-44"></a>44</td>
          <td>1 (0.0023%)</td>
          <td>20 (0.05%)</td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-44"></a>
              3 (0.0068%) samples spent in ==<br />
              3 (100.00%) (ex.),
              3 (100.00%) (incl.)
              when called from
              any
              <a href="reduce-jl-5c2b371e0ed1d3514d60-line.html#Lreduce-jl-5c2b371e0ed1d3514d60-line.html-574">line 574</a><br />
            </div>
            <div class="callees">
              19 (95.00%)
              samples spent calling
              <a href="tuple-jl-6eeff5d19364dc978e26-line.html#S-home-arashyazdiha-Documents-Programs-julia-d386e40c17-bin-share-julia-base-tuple-jl-hash-294">hash</a><br />
            </div>
            <span class="code">hash(x::Dyad, h::UInt) = hash(minmax(x.src, x.dst), h)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-45"></a>45</td>
          <td>2 (0.0045%)</td>
          <td>2 (0.0045%)</td>
          <td>
            <span class="code">==(x::Link, y::Link) = (x.src == y.src &amp;&amp; x.dst == y.dst) || (x.src == y.dst &amp;&amp; x.dst == y.dst)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-46"></a>46</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-46"></a>
              52 (0.12%) samples spent in ==<br />
              1 (1.92%) (ex.),
              1 (1.92%) (incl.)
              when called from
              setup_mblnl!
              <a href="modelutils-jl-0e942ddeee191981d920-line.html#Lmodelutils-jl-0e942ddeee191981d920-line.html-445">line 445</a><br />
              51 (98.08%) (ex.),
              51 (98.08%) (incl.)
              when called from
              any
              <a href="reduce-jl-5c2b371e0ed1d3514d60-line.html#Lreduce-jl-5c2b371e0ed1d3514d60-line.html-574">line 574</a><br />
            </div>
            <span class="code">hash(x::Link, h::UInt) = hash(minmax(x.src, x.dst), h)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-47"></a>47</td>
          <td>39 (0.09%)</td>
          <td>39 (0.09%)</td>
          <td>
            <span class="code">==(x::NonLink, y::NonLink) = (x.src == y.src &amp;&amp; x.dst == y.dst) || (x.src == y.dst &amp;&amp; x.dst == y.dst)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-48"></a>48</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">hash(x::NonLink, h::UInt) = hash(minmax(x.src, x.dst), h)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-49"></a>49</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">==(x::Dyad, y::Link) = (x.src == y.src &amp;&amp; x.dst == y.dst) || (x.src == y.dst &amp;&amp; x.dst == y.dst)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-50"></a>50</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-50"></a>
              44 (0.10%) samples spent in ==<br />
              1 (2.27%) (ex.),
              1 (2.27%) (incl.)
              when called from
              macro expansion
              <a href="profile-jl-8aec085f2d8dd0c607c0-line.html#Lprofile-jl-8aec085f2d8dd0c607c0-line.html-23">line 23</a><br />
              2 (4.55%) (ex.),
              2 (4.55%) (incl.)
              when called from
              train
              <a href="train-jl-ca84a6959e82b4de6552-line.html#Ltrain-jl-ca84a6959e82b4de6552-line.html-95">line 95</a><br />
              7 (15.91%) (ex.),
              7 (15.91%) (incl.)
              when called from
              macro expansion
              <a href="broadcast-jl-ef111e8220ee56a27253-line.html#Lbroadcast-jl-ef111e8220ee56a27253-line.html-182">line 182</a><br />
              34 (77.27%) (ex.),
              34 (77.27%) (incl.)
              when called from
              any
              <a href="reduce-jl-5c2b371e0ed1d3514d60-line.html#Lreduce-jl-5c2b371e0ed1d3514d60-line.html-574">line 574</a><br />
            </div>
            <span class="code">==(x::Dyad, y::NonLink) = (x.src == y.src &amp;&amp; x.dst == y.dst) || (x.src == y.dst &amp;&amp; x.dst == y.dst)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-51"></a>51</td>
          <td>40 (0.09%)</td>
          <td>40 (0.09%)</td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-51"></a>
              206 (0.46%) samples spent in ==<br />
              206 (100.00%) (ex.),
              206 (100.00%) (incl.)
              when called from
              macro expansion
              <a href="broadcast-jl-ef111e8220ee56a27253-line.html#Lbroadcast-jl-ef111e8220ee56a27253-line.html-182">line 182</a><br />
            </div>
            <span class="code">==(x::Link, y::Dyad) = (x.src == y.src &amp;&amp; x.dst == y.dst) || (x.src == y.dst &amp;&amp; x.dst == y.dst)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-52"></a>52</td>
          <td>201 (0.45%)</td>
          <td>201 (0.45%)</td>
          <td>
            <span class="code">==(x::NonLink, y::Dyad) = (x.src == y.src &amp;&amp; x.dst == y.dst) || (x.src == y.dst &amp;&amp; x.dst == y.dst)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-53"></a>53</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">#
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-54"></a>54</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># hash(x::Dyad, h::UInt) = hash(x.src, hash(x.dst, hash(0x7d6979235cb005d0, h)))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-55"></a>55</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># hash(x::Link, h::UInt) = hash(x.src, hash(x.dst, hash(0x7d6979235cb005d0, h)))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-56"></a>56</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># hash(x::NonLink, h::UInt) = hash(x.src, hash(x.dst, hash(0x7d6979235cb005d0, h)))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-57"></a>57</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-58"></a>58</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-59"></a>59</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">mutable struct MiniBatch
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-60"></a>60</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	mblinks::Vector{Link}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-61"></a>61</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	mbnonlinks::Vector{NonLink}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-62"></a>62</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	mbnodes::Vector{Int64}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-63"></a>63</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  mbnot::Dict{Int64,Vector{Int64}}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-64"></a>64</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  function MiniBatch()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-65"></a>65</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    mblinks=Vector{Link}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-66"></a>66</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    mbnonlinks=Vector{NonLink}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-67"></a>67</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    mbnodes=Vector{Int64}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-68"></a>68</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    mbnot=Dict{Int64,Vector{Int64}}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-69"></a>69</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    new(mblinks,mbnonlinks,mbnodes,mbnot)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-70"></a>70</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-71"></a>71</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-72"></a>72</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-73"></a>73</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">mutable struct Training
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-74"></a>74</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	trainlinks::Vector{Link}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-75"></a>75</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	trainnonlinks::Vector{NonLink}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-76"></a>76</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	trainallnodes::Set{Int64}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-77"></a>77</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  trainingnot::Dict{Int64,Vector{Int64}}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-78"></a>78</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  function Training()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-79"></a>79</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    traininglinks=Vector{Link}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-80"></a>80</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    trainingnonlinks=Vector{NonLink}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-81"></a>81</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    trainingallnodes=Set{Int64}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-82"></a>82</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    trainingnot=Dict{Int64,Vector{Int64}}()
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-83"></a>83</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    new(traininglinks,trainingnonlinks,trainingallnodes,trainingnot)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-84"></a>84</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-85"></a>85</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-86"></a>86</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-87"></a>87</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Map{R,T} = Dict{R,T}
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-88"></a>88</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-89"></a>89</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-90"></a>90</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">Network{T&lt;:Integer}(nrows::T) = SparseMatrixCSC{T,T}(nrows, nrows, ones(T, nrows+1), Vector{T}(0), Vector{T}(0))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-91"></a>91</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-92"></a>92</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Base.digamma{T&lt;:Number,R&lt;:Integer}(x::T, dim::R) = @fastmath @inbounds return sum(digamma(x+.5*(1-i)) for i in 1:dim)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-93"></a>93</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># Base.Math.lgamma{T&lt;:Number,R&lt;:Integer}(x::T, dim::R)=.25*(dim*dim-1)*log(pi)+sum(lgamma(x+.5*(1-i)) for i in 1:dim)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-94"></a>94</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-95"></a>95</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-digamma_-95"></a>
              8 (0.02%) samples spent in digamma_<br />
              1 (33.33%) (ex.),
              3 (37.50%) (incl.)
              when called from
              update_Elogβ!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-216">line 216</a><br />
              2 (66.67%) (ex.),
              5 (62.50%) (incl.)
              when called from
              update_Elogβ!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-215">line 215</a><br />
            </div>
            <span class="code">function digamma_(x::Float64)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-96"></a>96</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	p=zero(Float64)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-97"></a>97</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  x=x+6.0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-98"></a>98</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  p=1.0/(x*x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-99"></a>99</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  p=(((0.004166666666667*p-0.003968253986254)*p+0.008333333333333)*p-0.083333333333333)*p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-100"></a>100</td>
          <td>2 (0.0045%)</td>
          <td>7 (0.02%)</td>
          <td>
            <div class="callees">
              5 (71.43%)
              samples spent calling
              <a href="math-jl-55feb969e311fdf4e23a-line.html#S-home-arashyazdiha-Documents-Programs-julia-d386e40c17-bin-share-julia-base-math-jl-log-419">log</a><br />
            </div>
            <span class="code">  p=p+log(x)-0.5/x-1.0/(x-1.0)-1.0/(x-2.0)-1.0/(x-3.0)-1.0/(x-4.0)-1.0/(x-5.0)-1.0/(x-6.0)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-101"></a>101</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  p
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-102"></a>102</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-103"></a>103</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-104"></a>104</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"># import Base.Math.lgamma
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-105"></a>105</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function lgamma_(x::Float64)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-106"></a>106</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	z=1.0/(x*x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-107"></a>107</td>
          <td></td>
          <td></td>
          <td>
            <span class="code"> 	x=x+6.0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-108"></a>108</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  z=(((-0.000595238095238*z+0.000793650793651)*z-0.002777777777778)*z+0.083333333333333)/x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-109"></a>109</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  z=(x-0.5)*log(x)-x+0.918938533204673+z-log(x-1.0)-log(x-2.0)-log(x-3.0)-log(x-4.0)-log(x-5.0)-log(x-6.0)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-110"></a>110</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  z
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-111"></a>111</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-112"></a>112</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-113"></a>113</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">digamma_{T&lt;:Number,R&lt;:Integer}(x::T, dim::R) = @fastmath @inbounds return sum(digamma_(x+.5*(1-i)) for i in 1:dim)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-114"></a>114</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">lgamma_{T&lt;:Number,R&lt;:Integer}(x::T, dim::R)=.25*(dim*dim-1)*log(pi)+sum(lgamma_(x+.5*(1-i)) for i in 1:dim)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-115"></a>115</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-116"></a>116</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-logsumexp-116"></a>
              11026 (24.82%) samples spent in logsumexp<br />
              1 (0.09%) (ex.),
              1 (0.0091%) (incl.)
              when called from
              updatephinl!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-43">line 43</a><br />
              3 (0.26%) (ex.),
              47 (0.43%) (incl.)
              when called from
              softmax
              <a href="utils-jl-56d1852980543f3415bf-line.html#Lutils-jl-56d1852980543f3415bf-line.html-153">line 153</a><br />
              80 (6.89%) (ex.),
              948 (8.60%) (incl.)
              when called from
              updatephil!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-26">line 26</a><br />
              519 (44.70%) (ex.),
              4981 (45.18%) (incl.)
              when called from
              updatephinlin!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-75">line 75</a><br />
              558 (48.06%) (ex.),
              5049 (45.79%) (incl.)
              when called from
              updatephinlout!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-62">line 62</a><br />
            </div>
            <span class="code">function logsumexp(X::Vector{Float64})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-117"></a>117</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    alpha = -Inf
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-118"></a>118</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    r = 0.0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-119"></a>119</td>
          <td>358 (0.81%)</td>
          <td>358 (0.81%)</td>
          <td>
            <span class="code">    for x = X
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-120"></a>120</td>
          <td>16 (0.04%)</td>
          <td>16 (0.04%)</td>
          <td>
            <span class="code">        if x &lt;= alpha
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-121"></a>121</td>
          <td>702 (1.58%)</td>
          <td>10072 (22.67%)</td>
          <td>
            <div class="callees">
              9370 (93.03%)
              samples spent calling
              <a href="exp-jl-b42dee10b321eb245576-line.html#S-home-arashyazdiha-Documents-Programs-julia-d386e40c17-bin-share-julia-base-special-exp-jl-exp-67">exp</a><br />
            </div>
            <span class="code">            r += exp(x - alpha)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-122"></a>122</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-123"></a>123</td>
          <td>48 (0.11%)</td>
          <td>384 (0.86%)</td>
          <td>
            <div class="callees">
              336 (87.50%)
              samples spent calling
              <a href="exp-jl-b42dee10b321eb245576-line.html#S-home-arashyazdiha-Documents-Programs-julia-d386e40c17-bin-share-julia-base-special-exp-jl-exp-67">exp</a><br />
            </div>
            <span class="code">            r *= exp(alpha - x)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-124"></a>124</td>
          <td>20 (0.05%)</td>
          <td>20 (0.05%)</td>
          <td>
            <span class="code">            r += 1.0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-125"></a>125</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">            alpha = x
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-126"></a>126</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-127"></a>127</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-128"></a>128</td>
          <td>9 (0.02%)</td>
          <td>168 (0.38%)</td>
          <td>
            <div class="callees">
              159 (94.64%)
              samples spent calling
              <a href="math-jl-55feb969e311fdf4e23a-line.html#S-home-arashyazdiha-Documents-Programs-julia-d386e40c17-bin-share-julia-base-math-jl-log1p-419">log1p</a><br />
            </div>
            <span class="code">    log1p(r-1.0) + alpha
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-129"></a>129</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-130"></a>130</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function logsumexp(X::Float64, Y::Float64)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-131"></a>131</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    alpha = -Inf
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-132"></a>132</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    r = 0.0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-133"></a>133</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-134"></a>134</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if X &lt;= alpha
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-135"></a>135</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        r += exp(X - alpha)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-136"></a>136</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-137"></a>137</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        r *= exp(alpha - X)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-138"></a>138</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        r += 1.0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-139"></a>139</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        alpha = X
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-140"></a>140</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-141"></a>141</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    if Y &lt;= alpha
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-142"></a>142</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        r += exp(Y - alpha)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-143"></a>143</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    else
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-144"></a>144</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        r *= exp(alpha - Y)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-145"></a>145</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        r += 1.0
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-146"></a>146</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        alpha = Y
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-147"></a>147</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-148"></a>148</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    log1p(r-1.0) + alpha
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-149"></a>149</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-150"></a>150</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-151"></a>151</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-152"></a>152</td>
          <td></td>
          <td></td>
          <td>
            <div class="call-sites">
              <a name="S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-softmax-152"></a>
              100 (0.23%) samples spent in softmax<br />
              0 (ex.),
              11 (11.00%) (incl.)
              when called from
              estimate_θs!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-200">line 200</a><br />
              0 (ex.),
              12 (12.00%) (incl.)
              when called from
              updateμ!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-101">line 101</a><br />
              0 (ex.),
              77 (77.00%) (incl.)
              when called from
              updateμ!
              <a href="trainutils-jl-24f2bf461fb71fb4e996-line.html#Ltrainutils-jl-24f2bf461fb71fb4e996-line.html-112">line 112</a><br />
            </div>
            <span class="code">function softmax(X::Vector{Float64})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-153"></a>153</td>
          <td></td>
          <td>100 (0.23%)</td>
          <td>
            <div class="callees">
              53 (53.00%)
              samples spent calling
              <a href="broadcast-jl-ef111e8220ee56a27253-line.html#S-home-arashyazdiha-Documents-Programs-julia-d386e40c17-bin-share-julia-base-broadcast-jl-broadcast-455">broadcast</a><br />
              47 (47.00%)
              samples spent calling
              <a href="utils-jl-56d1852980543f3415bf-line.html#S-home-arashyazdiha-Dropbox-Arash-EUR-Workspace-CLSM-Julia-Implementation-ProjectLN-ugraph-src-modules-utils-jl-logsumexp-116">logsumexp</a><br />
            </div>
            <span class="code">  exp.(X.-logsumexp(X))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-154"></a>154</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-155"></a>155</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-156"></a>156</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">function sort_by_argmax!{T&lt;:Real}(X::Matrix2d{T})
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-157"></a>157</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	n_row=size(X,1)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-158"></a>158</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	n_col = size(X,2)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-159"></a>159</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	ind_max=zeros(Int64, n_row)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-160"></a>160</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	@simd for a in 1:n_row
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-161"></a>161</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    @inbounds ind_max[a] = indmax(view(X,a,1:n_col))
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-162"></a>162</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-163"></a>163</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	X_tmp = similar(X)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-164"></a>164</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	count = 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-165"></a>165</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	for j in 1:maximum(ind_max)
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-166"></a>166</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  	for i in 1:n_row
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-167"></a>167</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    	if ind_max[i] == j
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-168"></a>168</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">      	for k in 1:n_col
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-169"></a>169</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">        	X_tmp[count,k] = X[i,k]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-170"></a>170</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">      	end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-171"></a>171</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">      	count += 1
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-172"></a>172</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">    	end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-173"></a>173</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">  	end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-174"></a>174</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-175"></a>175</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	# This way of assignment is important in arrays, el by el
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-176"></a>176</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	X[:]=X_tmp[:]
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-177"></a>177</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">	X
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-178"></a>178</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-179"></a>179</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-180"></a>180</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">##########
</span>
          </td>
        </tr>

        <tr>
          <td><a name="Lutils-jl-56d1852980543f3415bf-line.html-181"></a>181</td>
          <td></td>
          <td></td>
          <td>
            <span class="code">end
</span>
          </td>
        </tr>
      </table>
    </div>
  </body>
</html>
